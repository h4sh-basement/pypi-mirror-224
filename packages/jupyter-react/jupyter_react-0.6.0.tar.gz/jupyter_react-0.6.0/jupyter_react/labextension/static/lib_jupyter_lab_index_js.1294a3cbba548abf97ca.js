"use strict";
(self["webpackChunk_datalayer_jupyter_react"] = self["webpackChunk_datalayer_jupyter_react"] || []).push([["lib_jupyter_lab_index_js"],{

/***/ "../../../../../node_modules/css-loader/dist/cjs.js!./style/base.css":
/*!***************************************************************************!*\
  !*** ../../../../../node_modules/css-loader/dist/cjs.js!./style/base.css ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../node_modules/css-loader/dist/runtime/api.js */ "../../../../../node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "/*\nhtml {\n  box-sizing: content-box !important;\n}\n\nbody {\n  background: white;\n  margin: 0;\n  padding: 0;\n  overflow-y: scroll;\n}\n\n.jp-NotebookPanel-toolbar {\n  height: 0px !important;\n  min-height: 0px !important;\n}\n*/\n.dla-NotebookPanel-header {\n  min-height: 50px;\n}\n", "",{"version":3,"sources":["webpack://./style/base.css"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;CAgBC;AACD;EACE,gBAAgB;AAClB","sourcesContent":["/*\nhtml {\n  box-sizing: content-box !important;\n}\n\nbody {\n  background: white;\n  margin: 0;\n  padding: 0;\n  overflow-y: scroll;\n}\n\n.jp-NotebookPanel-toolbar {\n  height: 0px !important;\n  min-height: 0px !important;\n}\n*/\n.dla-NotebookPanel-header {\n  min-height: 50px;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "../../../../../node_modules/css-loader/dist/cjs.js!./style/index.css":
/*!****************************************************************************!*\
  !*** ../../../../../node_modules/css-loader/dist/cjs.js!./style/index.css ***!
  \****************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../node_modules/css-loader/dist/runtime/api.js */ "../../../../../node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_base_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../../../../../node_modules/css-loader/dist/cjs.js!./base.css */ "../../../../../node_modules/css-loader/dist/cjs.js!./style/base.css");
// Imports



var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_base_css__WEBPACK_IMPORTED_MODULE_2__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\n", "",{"version":3,"sources":[],"names":[],"mappings":"","sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "../../../../icons/react/data1/esm/AcademicCapIconLabIcon.js":
/*!*******************************************************************!*\
  !*** ../../../../icons/react/data1/esm/AcademicCapIconLabIcon.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_ui_components_lib_icon_labicon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/ui-components/lib/icon/labicon */ "../../../../../node_modules/@jupyterlab/ui-components/lib/icon/labicon.js");
/* harmony import */ var _AcademicCapIcon_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AcademicCapIcon.svg */ "../../../../icons/react/data1/esm/AcademicCapIcon.svg");


const academicCapIconLabIcon = new _jupyterlab_ui_components_lib_icon_labicon__WEBPACK_IMPORTED_MODULE_0__.LabIcon({
    name: '@datalayer/icons:academic-cap',
    svgstr: _AcademicCapIcon_svg__WEBPACK_IMPORTED_MODULE_1__,
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (academicCapIconLabIcon);

/***/ }),

/***/ "../../../../icons/react/data1/esm/DashboardColorIconLabIcon.js":
/*!**********************************************************************!*\
  !*** ../../../../icons/react/data1/esm/DashboardColorIconLabIcon.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_ui_components_lib_icon_labicon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/ui-components/lib/icon/labicon */ "../../../../../node_modules/@jupyterlab/ui-components/lib/icon/labicon.js");
/* harmony import */ var _DashboardColorIcon_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DashboardColorIcon.svg */ "../../../../icons/react/data1/esm/DashboardColorIcon.svg");


const dashboardColorIconLabIcon = new _jupyterlab_ui_components_lib_icon_labicon__WEBPACK_IMPORTED_MODULE_0__.LabIcon({
    name: '@datalayer/icons:dashboard-color',
    svgstr: _DashboardColorIcon_svg__WEBPACK_IMPORTED_MODULE_1__,
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dashboardColorIconLabIcon);

/***/ }),

/***/ "./lib/app/JupyterReact.js":
/*!*********************************!*\
  !*** ./lib/app/JupyterReact.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/ThemeProvider.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/BaseStyles.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/Box/Box.js");
/* harmony import */ var _primer_react_drafts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @primer/react/drafts */ "../../../../../node_modules/@primer/react/lib-esm/UnderlineNav2/index.js");
/* harmony import */ var _datalayer_icons_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datalayer/icons-react */ "../../node_modules/@datalayer/icons-react/data1/esm/ReactJsIcon.js");
/* harmony import */ var _datalayer_icons_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datalayer/icons-react */ "../../node_modules/@datalayer/icons-react/data1/esm/NetworkIcon.js");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/services */ "webpack/sharing/consume/default/@jupyterlab/services");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _tabs_AboutTab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./tabs/AboutTab */ "./lib/app/tabs/AboutTab.js");
/* harmony import */ var _tabs_PluginsTab__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./tabs/PluginsTab */ "./lib/app/tabs/PluginsTab.js");
/* harmony import */ var _jupyter_JupyterHandlers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../jupyter/JupyterHandlers */ "./lib/jupyter/JupyterHandlers.js");









const JupyterReact = () => {
    const [tab, setTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [version, setVersion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        (0,_jupyter_JupyterHandlers__WEBPACK_IMPORTED_MODULE_3__.requestAPI)(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_2__.ServerConnection.makeSettings(), 'jupyter_react', 'get_config')
            .then(data => {
            setVersion(data.version);
        })
            .catch(reason => {
            console.error(`The Jupyter Server jupyter_react extension appears to be missing.\n${reason}`);
        });
    });
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_4__["default"], { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_5__["default"], { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_primer_react__WEBPACK_IMPORTED_MODULE_6__["default"], { style: { maxWidth: 700 }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_6__["default"], { mb: 3, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_primer_react_drafts__WEBPACK_IMPORTED_MODULE_7__.UnderlineNav, { "aria-label": "jupyter-react", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react_drafts__WEBPACK_IMPORTED_MODULE_7__.UnderlineNav.Item, { "aria-current": "page", icon: _datalayer_icons_react__WEBPACK_IMPORTED_MODULE_8__["default"], onSelect: e => { e.preventDefault(); setTab(1); }, children: "About" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react_drafts__WEBPACK_IMPORTED_MODULE_7__.UnderlineNav.Item, { icon: _datalayer_icons_react__WEBPACK_IMPORTED_MODULE_9__["default"], onSelect: e => { e.preventDefault(); setTab(2); }, children: "Plugins" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_primer_react__WEBPACK_IMPORTED_MODULE_6__["default"], { m: 3, children: [(tab === 1) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_tabs_AboutTab__WEBPACK_IMPORTED_MODULE_10__["default"], { version: version }), (tab === 2) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_tabs_PluginsTab__WEBPACK_IMPORTED_MODULE_11__["default"], {})] })] }) }) }) }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (JupyterReact);


/***/ }),

/***/ "./lib/app/tabs/AboutTab.js":
/*!**********************************!*\
  !*** ./lib/app/tabs/AboutTab.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/Text/Text.js");


const AboutTab = (props) => {
    const { version } = props;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_primer_react__WEBPACK_IMPORTED_MODULE_1__["default"], { children: ["Version: ", version] }) }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AboutTab);


/***/ }),

/***/ "./lib/app/tabs/PluginsTab.js":
/*!************************************!*\
  !*** ./lib/app/tabs/PluginsTab.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");

const PluginsTab = () => {
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: "Plugins" }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PluginsTab);


/***/ }),

/***/ "./lib/components/notebook/cell/prompt/Countdown.js":
/*!**********************************************************!*\
  !*** ./lib/components/notebook/cell/prompt/Countdown.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Countdown": () => (/* binding */ Countdown)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


const Countdown = (props) => {
    const [count, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.count);
    let intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();
    const decreaseNum = () => setCount((prev) => prev - 1);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        setCount(props.count);
    }, [props.count]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        intervalRef.current = setInterval(decreaseNum, 1000);
        return () => clearInterval(intervalRef.current);
    }, []);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: ["[", count, "]"] }));
};


/***/ }),

/***/ "./lib/components/notebook/cell/prompt/CountdownInputPrompt.js":
/*!*********************************************************************!*\
  !*** ./lib/components/notebook/cell/prompt/CountdownInputPrompt.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CountdownInputPrompt": () => (/* binding */ CountdownInputPrompt),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Countdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Countdown */ "./lib/components/notebook/cell/prompt/Countdown.js");



const INPUT_PROMPT_CLASS = 'jp-InputPrompt';
class CountdownInputPrompt extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget {
    _executionCount = null;
    state = {
        count: 100
    };
    constructor() {
        super();
        this.addClass(INPUT_PROMPT_CLASS);
    }
    /** @override */
    render() {
        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Countdown__WEBPACK_IMPORTED_MODULE_2__.Countdown, { count: this.state.count });
    }
    get executionCount() {
        return this._executionCount;
    }
    set executionCount(value) {
        this._executionCount = value;
        if (value === null) {
            this.state = {
                count: 0
            };
        }
        else {
            if (value === '*') {
                this.state = {
                    count: 0
                };
            }
            else {
                this.state = {
                    count: Number(value)
                };
                this.update();
            }
        }
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CountdownInputPrompt);


/***/ }),

/***/ "./lib/components/notebook/cell/prompt/CountdownOutputPrompt.js":
/*!**********************************************************************!*\
  !*** ./lib/components/notebook/cell/prompt/CountdownOutputPrompt.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CountdownOutputPrompt": () => (/* binding */ CountdownOutputPrompt),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Countdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Countdown */ "./lib/components/notebook/cell/prompt/Countdown.js");



const OUTPUT_PROMPT_CLASS = 'jp-OutputPrompt';
class CountdownOutputPrompt extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget {
    _executionCount = null;
    state = {
        count: 100
    };
    constructor() {
        super();
        this.addClass(OUTPUT_PROMPT_CLASS);
    }
    /** @override */
    render() {
        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Countdown__WEBPACK_IMPORTED_MODULE_2__.Countdown, { count: this.state.count });
    }
    get executionCount() {
        return this._executionCount;
    }
    set executionCount(value) {
        this._executionCount = value;
        if (value === null) {
            this.state = {
                count: 0
            };
        }
        else {
            this.state = {
                count: Number(value)
            };
            this.update();
        }
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CountdownOutputPrompt);


/***/ }),

/***/ "./lib/components/notebook/marked/marked.js":
/*!**************************************************!*\
  !*** ./lib/components/notebook/marked/marked.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getMarked": () => (/* binding */ getMarked)
/* harmony export */ });
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! marked */ "webpack/sharing/consume/default/marked/marked");
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_0__);

const getMarked = (languages) => {
    Private.initializeMarked(languages);
    return {
        render: (content) => new Promise((resolve, reject) => {
            (0,marked__WEBPACK_IMPORTED_MODULE_0__.marked)(content, (err, content) => {
                if (err) {
                    reject(err);
                }
                else {
                    resolve(content);
                }
            });
        })
    };
};
var Private;
(function (Private) {
    let markedInitialized = false;
    function initializeMarked(languages) {
        if (markedInitialized) {
            return;
        }
        else {
            markedInitialized = true;
        }
        marked__WEBPACK_IMPORTED_MODULE_0__.marked.setOptions({
            gfm: true,
            sanitize: false,
            // breaks: true; We can't use GFM breaks as it causes problems with tables
            langPrefix: `language-`,
            highlight: (code, lang, callback) => {
                const cb = (err, code) => {
                    if (callback) {
                        callback(err, code);
                    }
                    return code;
                };
                if (!lang) {
                    // no language, no highlight
                    return cb(null, code);
                }
                const el = document.createElement('div');
                try {
                    languages
                        .highlight(code, languages.findBest(lang), el)
                        .then(() => {
                        return cb(null, el.innerHTML);
                    })
                        .catch(reason => {
                        return cb(reason, code);
                    });
                }
                catch (err) {
                    console.error(`Failed to highlight ${lang} code`, err);
                    return cb(err, code);
                }
            }
        });
    }
    Private.initializeMarked = initializeMarked;
})(Private || (Private = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getMarked);


/***/ }),

/***/ "./lib/components/viewer/Viewer.js":
/*!*****************************************!*\
  !*** ./lib/components/viewer/Viewer.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _input_InputViewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./input/InputViewer */ "./lib/components/viewer/input/InputViewer.js");
/* harmony import */ var _output_OutputViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./output/OutputViewer */ "./lib/components/viewer/output/OutputViewer.js");
/* harmony import */ var _jupyter_utils_Ids__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../jupyter/utils/Ids */ "./lib/jupyter/utils/Ids.js");





const Viewer = (props) => {
    const { nbformat, outputs } = props;
    const [model, setModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        setModel(nbformat);
    }, [nbformat]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: model?.cells.map(cell => {
            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_input_InputViewer__WEBPACK_IMPORTED_MODULE_2__["default"], { cell: cell, languageInfo: nbformat.metadata.language_info }), outputs && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_output_OutputViewer__WEBPACK_IMPORTED_MODULE_3__["default"], { cell: cell })] }, cell.id?.toString() || (0,_jupyter_utils_Ids__WEBPACK_IMPORTED_MODULE_4__.newUuid)()));
        }) }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Viewer);


/***/ }),

/***/ "./lib/components/viewer/input/InputViewer.js":
/*!****************************************************!*\
  !*** ./lib/components/viewer/input/InputViewer.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/codemirror */ "webpack/sharing/consume/default/@jupyterlab/codemirror");
/* harmony import */ var _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/rendermime */ "webpack/sharing/consume/default/@jupyterlab/rendermime");
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/cells */ "webpack/sharing/consume/default/@jupyterlab/cells");
/* harmony import */ var _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _jupyterlab_mathjax_extension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/mathjax-extension */ "webpack/sharing/consume/default/@jupyterlab/mathjax-extension");
/* harmony import */ var _jupyterlab_mathjax_extension__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_mathjax_extension__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _jupyter_ydoc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyter/ydoc */ "webpack/sharing/consume/default/@jupyter/ydoc");
/* harmony import */ var _jupyter_ydoc__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_jupyter_ydoc__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _notebook_marked_marked__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../notebook/marked/marked */ "./lib/components/notebook/marked/marked.js");
/* harmony import */ var _jupyter_lumino_Lumino__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../jupyter/lumino/Lumino */ "./lib/jupyter/lumino/Lumino.js");








const themes = new _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.EditorThemeRegistry();
const editorExtensions = () => {
    const registry = new _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.EditorExtensionRegistry();
    for (const extensionFactory of _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.EditorExtensionRegistry.getDefaultExtensions({ themes })) {
        registry.addExtension(extensionFactory);
    }
    registry.addExtension({
        name: 'shared-model-binding',
        factory: options => {
            const sharedModel = options.model.sharedModel;
            return _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.EditorExtensionRegistry.createImmutableExtension((0,_jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.ybinding)({
                ytext: sharedModel.ysource,
                undoManager: sharedModel.undoManager ?? undefined
            }));
        }
    });
    return registry;
};
const languages = new _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.EditorLanguageRegistry();
for (const language of _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.EditorLanguageRegistry.getDefaultLanguages()) {
    languages.addLanguage(language);
}
languages.addLanguage({
    name: 'ipythongfm',
    mime: 'text/x-ipythongfm',
    load: async () => {
        // TODO: add support for LaTeX
        const m = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_codemirror_autocomplete_dist_index_js"), __webpack_require__.e("vendors-node_modules_lezer_lr_dist_index_js"), __webpack_require__.e("vendors-node_modules_codemirror_lang-markdown_dist_index_js"), __webpack_require__.e("webpack_sharing_consume_default_codemirror_language-webpack_sharing_consume_default_lezer_common"), __webpack_require__.e("webpack_sharing_consume_default_lezer_highlight"), __webpack_require__.e("webpack_sharing_consume_default_codemirror_state-webpack_sharing_consume_default_codemirror_view"), __webpack_require__.e("node_modules_process_browser_js-_4e961")]).then(__webpack_require__.bind(__webpack_require__, /*! @codemirror/lang-markdown */ "../../../../../node_modules/@codemirror/lang-markdown/dist/index.js"));
        return m.markdown({
            codeLanguages: (info) => languages.findBest(info)
        });
    }
});
const rendermime = new _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__.RenderMimeRegistry({
    initialFactories: _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__.standardRendererFactories,
    latexTypesetter: new _jupyterlab_mathjax_extension__WEBPACK_IMPORTED_MODULE_4__.MathJaxTypesetter(),
    markdownParser: (0,_notebook_marked_marked__WEBPACK_IMPORTED_MODULE_6__.getMarked)(languages),
});
const factoryService = new _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__.CodeMirrorEditorFactory({
    extensions: editorExtensions(),
    languages,
});
const InputViewer = (props) => {
    const { cell, languageInfo } = props;
    switch (cell.cell_type) {
        case 'code': {
            const codeCell = new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.CodeCell({
                rendermime,
                model: new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.CodeCellModel({
                    sharedModel: (0,_jupyter_ydoc__WEBPACK_IMPORTED_MODULE_5__.createStandaloneCell)(cell)
                }),
                editorConfig: {
                    readOnly: true,
                },
                contentFactory: new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.Cell.ContentFactory({
                    editorFactory: factoryService.newInlineEditor.bind(factoryService)
                })
            }).initializeState();
            if (languageInfo && languageInfo.mimetype) {
                codeCell.model.mimeType = languageInfo.mimetype;
            }
            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_jupyter_lumino_Lumino__WEBPACK_IMPORTED_MODULE_7__["default"], { children: codeCell }) }));
        }
        case 'markdown': {
            const markdownCell = new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.MarkdownCell({
                rendermime,
                showEditorForReadOnlyMarkdown: false,
                model: new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.MarkdownCellModel({
                    sharedModel: (0,_jupyter_ydoc__WEBPACK_IMPORTED_MODULE_5__.createStandaloneCell)(cell)
                }),
                contentFactory: new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.Cell.ContentFactory({
                    editorFactory: factoryService.newInlineEditor.bind(factoryService)
                })
            }).initializeState();
            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_jupyter_lumino_Lumino__WEBPACK_IMPORTED_MODULE_7__["default"], { children: markdownCell }) }));
        }
        case 'raw': {
            const rawCell = new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.RawCell({
                model: new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.RawCellModel({
                    sharedModel: (0,_jupyter_ydoc__WEBPACK_IMPORTED_MODULE_5__.createStandaloneCell)(cell)
                }),
                contentFactory: new _jupyterlab_cells__WEBPACK_IMPORTED_MODULE_3__.Cell.ContentFactory({
                    editorFactory: factoryService.newInlineEditor.bind(factoryService)
                })
            });
            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_jupyter_lumino_Lumino__WEBPACK_IMPORTED_MODULE_7__["default"], { children: rawCell }) }));
        }
        default: {
            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
        }
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputViewer);


/***/ }),

/***/ "./lib/components/viewer/output/OutputAdapter.js":
/*!*******************************************************!*\
  !*** ./lib/components/viewer/output/OutputAdapter.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OutputAdapter": () => (/* binding */ OutputAdapter),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/outputarea */ "webpack/sharing/consume/default/@jupyterlab/outputarea");
/* harmony import */ var _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/rendermime */ "webpack/sharing/consume/default/@jupyterlab/rendermime");
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/json-extension */ "webpack/sharing/consume/default/@jupyterlab/json-extension");
/* harmony import */ var _jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/javascript-extension */ "webpack/sharing/consume/default/@jupyterlab/javascript-extension");
/* harmony import */ var _jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_3__);




class OutputAdapter {
    _renderers;
    _outputArea;
    _rendermime;
    constructor(outputs) {
        this._renderers = _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_1__.standardRendererFactories.filter(factory => factory.mimeTypes[0] !== 'text/javascript');
        this._renderers.push(_jupyterlab_json_extension__WEBPACK_IMPORTED_MODULE_2__.rendererFactory);
        this._renderers.push(_jupyterlab_javascript_extension__WEBPACK_IMPORTED_MODULE_3__.rendererFactory);
        this._rendermime = new _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_1__.RenderMimeRegistry({
            initialFactories: this._renderers,
        });
        const outputAreaModel = new _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_0__.OutputAreaModel({
            trusted: true,
            values: outputs,
        });
        this._outputArea = new _jupyterlab_outputarea__WEBPACK_IMPORTED_MODULE_0__.OutputArea({
            model: outputAreaModel,
            rendermime: this._rendermime,
        });
    }
    clearOutput() {
        this._outputArea.model.clear();
    }
    get outputArea() {
        return this._outputArea;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OutputAdapter);


/***/ }),

/***/ "./lib/components/viewer/output/OutputViewer.js":
/*!******************************************************!*\
  !*** ./lib/components/viewer/output/OutputViewer.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyter_lumino_Lumino__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../jupyter/lumino/Lumino */ "./lib/jupyter/lumino/Lumino.js");
/* harmony import */ var _OutputAdapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OutputAdapter */ "./lib/components/viewer/output/OutputAdapter.js");



const OutputViewer = (props) => {
    const { cell } = props;
    const outputs = cell.outputs ? cell.outputs : undefined;
    const outputAdapter = new _OutputAdapter__WEBPACK_IMPORTED_MODULE_1__["default"](outputs);
    switch (cell.cell_type) {
        case 'code': {
            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_jupyter_lumino_Lumino__WEBPACK_IMPORTED_MODULE_2__["default"], { children: outputAdapter.outputArea }) }));
        }
        default:
            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OutputViewer);


/***/ }),

/***/ "./lib/jupyter/JupyterAuthError.js":
/*!*****************************************!*\
  !*** ./lib/jupyter/JupyterAuthError.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * Error class in case of Authentication or
 * Authorization exception.
 */
class JupyterAuthError extends Error {
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (JupyterAuthError);


/***/ }),

/***/ "./lib/jupyter/JupyterHandlers.js":
/*!****************************************!*\
  !*** ./lib/jupyter/JupyterHandlers.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "requestAPI": () => (/* binding */ requestAPI)
/* harmony export */ });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "webpack/sharing/consume/default/@jupyterlab/coreutils");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/services */ "webpack/sharing/consume/default/@jupyterlab/services");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _JupyterAuthError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./JupyterAuthError */ "./lib/jupyter/JupyterAuthError.js");



/**
 * Call the Jupyter server API.
 *
 * @param endPoint API REST end point for the extension
 * @param init Initial values for the request
 * @returns The response body interpreted as JSON
 */
async function requestAPI(serverSettings, namespace = '', endPoint = '', init = {}) {
    // Make request to the Jupyter API.
    const requestUrl = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.URLExt.join(serverSettings.baseUrl, namespace, endPoint);
    let response;
    try {
        response = await _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.makeRequest(requestUrl, init, serverSettings);
        if (response.status === 403) {
            throw new _JupyterAuthError__WEBPACK_IMPORTED_MODULE_2__["default"]();
        }
    }
    catch (error) {
        throw new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.NetworkError(error);
    }
    let data = await response.text();
    if (data.length > 0) {
        try {
            data = JSON.parse(data);
        }
        catch (error) {
            console.warn('Not a JSON response body.', response);
        }
    }
    if (!response.ok) {
        throw new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.ResponseError(response, data.message || data);
    }
    return data;
}


/***/ }),

/***/ "./lib/jupyter/lab/handler.js":
/*!************************************!*\
  !*** ./lib/jupyter/lab/handler.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "requestAPI": () => (/* binding */ requestAPI)
/* harmony export */ });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "webpack/sharing/consume/default/@jupyterlab/coreutils");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/services */ "webpack/sharing/consume/default/@jupyterlab/services");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__);


/**
 * Call the API extension
 *
 * @param endPoint API REST end point for the extension
 * @param init Initial values for the request
 * @returns The response body interpreted as JSON
 */
async function requestAPI(endPoint = '', init = {}) {
    // Make request to Jupyter API
    const settings = _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.makeSettings();
    const requestUrl = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.URLExt.join(settings.baseUrl, 'jupyter_react', // API Namespace
    endPoint);
    let response;
    try {
        response = await _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.makeRequest(requestUrl, init, settings);
    }
    catch (error) {
        throw new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.NetworkError(error);
    }
    let data = await response.text();
    if (data.length > 0) {
        try {
            data = JSON.parse(data);
        }
        catch (error) {
            console.warn('Not a JSON response body.', response);
        }
    }
    if (!response.ok) {
        throw new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.ResponseError(response, data.message || data);
    }
    return data;
}


/***/ }),

/***/ "./lib/jupyter/lab/index.js":
/*!**********************************!*\
  !*** ./lib/jupyter/lab/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/settingregistry */ "webpack/sharing/consume/default/@jupyterlab/settingregistry");
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/launcher */ "webpack/sharing/consume/default/@jupyterlab/launcher");
/* harmony import */ var _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/ui-components */ "webpack/sharing/consume/default/@jupyterlab/ui-components");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _handler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./handler */ "./lib/jupyter/lab/handler.js");
/* harmony import */ var _widget__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./widget */ "./lib/jupyter/lab/widget.js");
/* harmony import */ var _notebook_header_NotebookHeader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./notebook/header/NotebookHeader */ "./lib/jupyter/lab/notebook/header/NotebookHeader.js");
/* harmony import */ var _notebook_classic_plugin__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./notebook/classic/plugin */ "./lib/jupyter/lab/notebook/classic/plugin.js");
/* harmony import */ var _notebook_dashboard_plugin__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./notebook/dashboard/plugin */ "./lib/jupyter/lab/notebook/dashboard/plugin.js");
/* harmony import */ var _notebook_content_plugin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./notebook/content/plugin */ "./lib/jupyter/lab/notebook/content/plugin.js");
/* harmony import */ var _style_index_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../style/index.css */ "./style/index.css");











/**
 * The command IDs used by the plugin.
 */
var CommandIDs;
(function (CommandIDs) {
    CommandIDs.create = 'create-jupyter-react-widget';
})(CommandIDs || (CommandIDs = {}));
/**
 * Initialization data for the @datalayer/jupyter-react extension.
 */
const jupyterReactPlugin = {
    id: '@datalayer/jupyter-react:plugin',
    autoStart: true,
    requires: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.ICommandPalette],
    optional: [_jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_1__.ISettingRegistry, _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_2__.ILauncher],
    activate: (app, palette, settingRegistry, launcher) => {
        const { commands } = app;
        const command = CommandIDs.create;
        commands.addCommand(command, {
            caption: 'Show Jupyter React',
            label: 'Jupyter React',
            icon: (args) => _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3__.reactIcon,
            execute: () => {
                const content = new _widget__WEBPACK_IMPORTED_MODULE_5__.JupyterReactWidget();
                const widget = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.MainAreaWidget({ content });
                widget.title.label = 'Jupyter React';
                widget.title.icon = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3__.reactIcon;
                app.shell.add(widget, 'main');
            }
        });
        const category = 'Jupyter React';
        palette.addItem({ command, category, args: { origin: 'from palette' } });
        if (launcher) {
            launcher.add({
                command,
                category: 'Datalayer',
                rank: 10,
            });
        }
        if (settingRegistry) {
            settingRegistry
                .load(jupyterReactPlugin.id)
                .then(settings => {
                console.log('@datalayer/jupyter-react settings loaded:', settings.composite);
            })
                .catch(reason => {
                console.error('Failed to load settings for @datalayer/jupyter-react.', reason);
            });
        }
        (0,_handler__WEBPACK_IMPORTED_MODULE_6__.requestAPI)('get_config')
            .then(data => {
            console.log(data);
        })
            .catch(reason => {
            console.error(`The Jupyter Server jupyter_react extension appears to be missing.\n${reason}`);
        });
        app.docRegistry.addWidgetExtension('Notebook', new _notebook_header_NotebookHeader__WEBPACK_IMPORTED_MODULE_7__.NotebookHeaderExtension(commands));
        console.log('JupyterLab extension @datalayer/jupyter-react is activated.');
    }
};
const plugins = [
    jupyterReactPlugin,
    _notebook_classic_plugin__WEBPACK_IMPORTED_MODULE_8__["default"],
    _notebook_dashboard_plugin__WEBPACK_IMPORTED_MODULE_9__["default"],
    _notebook_content_plugin__WEBPACK_IMPORTED_MODULE_10__["default"],
];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (plugins);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/classic/classicRender.js":
/*!***********************************************************!*\
  !*** ./lib/jupyter/lab/notebook/classic/classicRender.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CLASSIC_RENDER_ICON_CLASS": () => (/* binding */ CLASSIC_RENDER_ICON_CLASS),
/* harmony export */   "ClassicRender": () => (/* binding */ ClassicRender),
/* harmony export */   "ClassicRenderFactory": () => (/* binding */ ClassicRenderFactory),
/* harmony export */   "IClassicRenderTracker": () => (/* binding */ IClassicRenderTracker)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/docregistry */ "webpack/sharing/consume/default/@jupyterlab/docregistry");
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/coreutils */ "webpack/sharing/consume/default/@lumino/coreutils");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/signaling */ "webpack/sharing/consume/default/@lumino/signaling");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_4__);





const IClassicRenderTracker = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__.Token('@datalayer/jupyter-react:IClassicRenderTracker');
const CLASSIC_RENDER_ICON_CLASS = 'jp-MaterialIcon jp-NotebookIcon';
class ClassicRender extends _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__.DocumentWidget {
    _renderOnSave;
    constructor(options) {
        super({
            ...options,
            content: new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.IFrame({ sandbox: ['allow-same-origin', 'allow-scripts'] }),
        });
        const { getClassicUrl, context, renderOnSave } = options;
        this.content.url = getClassicUrl(context.path);
        this.content.title.iconClass = CLASSIC_RENDER_ICON_CLASS;
        this.renderOnSave = renderOnSave ? true : false;
        context.pathChanged.connect(() => {
            this.content.url = getClassicUrl(context.path);
        });
        const reloadButton = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ToolbarButton({
            iconClass: 'jp-RefreshIcon',
            tooltip: 'Reload Classic Render',
            onClick: () => {
                this.reload();
            }
        });
        const renderOnSaveCheckbox = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget.create((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "jp-Preview-renderOnSave", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { style: { verticalAlign: 'middle' }, name: "renderOnSave", type: "checkbox", defaultChecked: renderOnSave, onChange: (event) => {
                        this._renderOnSave = event.target.checked;
                    } }), "Render on Save"] }));
        this.toolbar.addItem('reload', reloadButton);
        if (context) {
            this.toolbar.addItem('renderOnSave', renderOnSaveCheckbox);
            void context.ready.then(() => {
                context.fileChanged.connect(() => {
                    if (this.renderOnSave) {
                        this.reload();
                    }
                });
            });
        }
    }
    dispose() {
        if (this.isDisposed) {
            return;
        }
        super.dispose();
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__.Signal.clearData(this);
    }
    reload() {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        const iframe = this.content.node.querySelector('iframe');
        if (iframe.contentWindow) {
            iframe.contentWindow.location.reload();
        }
    }
    get renderOnSave() {
        return this._renderOnSave;
    }
    set renderOnSave(renderOnSave) {
        this._renderOnSave = renderOnSave;
    }
}
class ClassicRenderFactory extends _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__.ABCWidgetFactory {
    getClassicUrl;
    defaultRenderOnSave = false;
    constructor(getClassicUrl, options) {
        super(options);
        this.getClassicUrl = getClassicUrl;
    }
    createNewWidget(context) {
        return new ClassicRender({
            context,
            getClassicUrl: this.getClassicUrl,
            renderOnSave: this.defaultRenderOnSave
        });
    }
}


/***/ }),

/***/ "./lib/jupyter/lab/notebook/classic/plugin.js":
/*!****************************************************!*\
  !*** ./lib/jupyter/lab/notebook/classic/plugin.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CLASSIC_RENDER_WIDGET_FACTORY": () => (/* binding */ CLASSIC_RENDER_WIDGET_FACTORY),
/* harmony export */   "CommandIDs": () => (/* binding */ CommandIDs),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/application */ "webpack/sharing/consume/default/@jupyterlab/application");
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/coreutils */ "webpack/sharing/consume/default/@jupyterlab/coreutils");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/settingregistry */ "webpack/sharing/consume/default/@jupyterlab/settingregistry");
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/mainmenu */ "webpack/sharing/consume/default/@jupyterlab/mainmenu");
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyterlab/notebook */ "webpack/sharing/consume/default/@jupyterlab/notebook");
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _datalayer_icons_react_data1_DashboardColorIconLabIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datalayer/icons-react/data1/DashboardColorIconLabIcon */ "../../../../icons/react/data1/esm/DashboardColorIconLabIcon.js");
/* harmony import */ var _classicRender__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./classicRender */ "./lib/jupyter/lab/notebook/classic/classicRender.js");








var CommandIDs;
(function (CommandIDs) {
    CommandIDs.classicRender = 'notebook:render-with-classic';
    CommandIDs.classicOpen = 'notebook:open-with-classic';
})(CommandIDs || (CommandIDs = {}));
const CLASSIC_RENDER_WIDGET_FACTORY = 'Classic Render';
class ClassicRenderButton {
    _commands;
    constructor(commands) {
        this._commands = commands;
    }
    createNew(panel) {
        const button = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ToolbarButton({
            className: 'classicRender',
            tooltip: 'Render with Classic',
            icon: _datalayer_icons_react_data1_DashboardColorIconLabIcon__WEBPACK_IMPORTED_MODULE_6__["default"],
            onClick: () => { this._commands.execute(CommandIDs.classicRender); }
        });
        panel.toolbar.insertAfter('cellType', 'classicRender', button);
        return button;
    }
}
/**
 * Initialization data for the jupyterlab-preview extension.
 */
const notebookClassicPlugin = {
    id: '@datalayer/jupyter-react:classic',
    autoStart: true,
    requires: [_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_5__.INotebookTracker],
    optional: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ICommandPalette, _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__.ILayoutRestorer, _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_4__.IMainMenu, _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_3__.ISettingRegistry],
    provides: _classicRender__WEBPACK_IMPORTED_MODULE_7__.IClassicRenderTracker,
    activate: (app, notebookTracker, palette, restorer, menu, settingRegistry) => {
        const { commands, docRegistry } = app;
        const tracker = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.WidgetTracker({
            namespace: 'classic-preview'
        });
        if (restorer) {
            restorer.restore(tracker, {
                command: 'docmanager:open',
                args: panel => ({
                    path: panel.context.path,
                    factory: classicRenderFactory.name
                }),
                name: panel => panel.context.path,
                when: app.serviceManager.ready
            });
        }
        function getCurrentNotebookPanel(args) {
            const notebookPanel = notebookTracker.currentWidget;
            const activate = args['activate'] !== false;
            if (activate && notebookPanel) {
                app.shell.activateById(notebookPanel.id);
            }
            return notebookPanel;
        }
        function isEnabled() {
            return (notebookTracker.currentWidget !== null &&
                notebookTracker.currentWidget === app.shell.currentWidget);
        }
        function getClassicUrl(path) {
            const baseUrl = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__.PageConfig.getBaseUrl();
            return `${baseUrl}tree/${path}`;
        }
        const classicRenderFactory = new _classicRender__WEBPACK_IMPORTED_MODULE_7__.ClassicRenderFactory(getClassicUrl, {
            name: CLASSIC_RENDER_WIDGET_FACTORY,
            fileTypes: ['notebook'],
            modelName: 'notebook'
        });
        classicRenderFactory.widgetCreated.connect((sender, classicRender) => {
            classicRender.context.pathChanged.connect(() => {
                void tracker.save(classicRender);
            });
            void tracker.add(classicRender);
        });
        const updateSettings = (settings) => {
            classicRenderFactory.defaultRenderOnSave = settings.get('renderOnSave')
                .composite;
        };
        if (settingRegistry) {
            Promise.all([settingRegistry.load(notebookClassicPlugin.id), app.restored])
                .then(([settings]) => {
                updateSettings(settings);
                settings.changed.connect(updateSettings);
            })
                .catch((reason) => {
                console.error(reason.message);
            });
        }
        commands.addCommand(CommandIDs.classicRender, {
            label: 'Render Notebook with Classic',
            execute: async (args) => {
                const notebookPanel = getCurrentNotebookPanel(args);
                let context;
                if (notebookPanel) {
                    context = notebookPanel.context;
                    await context.save();
                    commands.execute('docmanager:open', {
                        path: context.path,
                        factory: CLASSIC_RENDER_WIDGET_FACTORY,
                        options: {
                            mode: 'split-right'
                        }
                    });
                }
            },
            isEnabled
        });
        commands.addCommand(CommandIDs.classicOpen, {
            label: 'Render with Classic',
            execute: async (args) => {
                const notebookPanel = getCurrentNotebookPanel(args);
                if (!notebookPanel) {
                    return;
                }
                await notebookPanel.context.save();
                const previewUrl = getClassicUrl(notebookPanel.context.path);
                window.open(previewUrl);
            },
            isEnabled
        });
        if (palette) {
            const category = 'Notebook Operations';
            [CommandIDs.classicRender, CommandIDs.classicOpen].forEach(command => {
                palette.addItem({ command, category });
            });
        }
        if (menu) {
            menu.viewMenu.addGroup([
                {
                    command: CommandIDs.classicRender
                },
                {
                    command: CommandIDs.classicOpen
                }
            ], 1000);
        }
        const classicRenderButton = new ClassicRenderButton(commands);
        //
        docRegistry.addWidgetFactory(classicRenderFactory);
        docRegistry.addWidgetExtension('Notebook', classicRenderButton);
        //
        return tracker;
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (notebookClassicPlugin);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/content/CountdownContentFactory.js":
/*!*********************************************************************!*\
  !*** ./lib/jupyter/lab/notebook/content/CountdownContentFactory.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CountdownContentFactory": () => (/* binding */ CountdownContentFactory),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/notebook */ "webpack/sharing/consume/default/@jupyterlab/notebook");
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_notebook_cell_prompt_CountdownInputPrompt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../components/notebook/cell/prompt/CountdownInputPrompt */ "./lib/components/notebook/cell/prompt/CountdownInputPrompt.js");
/* harmony import */ var _components_notebook_cell_prompt_CountdownOutputPrompt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../components/notebook/cell/prompt/CountdownOutputPrompt */ "./lib/components/notebook/cell/prompt/CountdownOutputPrompt.js");



class CountdownContentFactory extends _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__.NotebookPanel.ContentFactory {
    constructor(options) {
        super(options);
    }
    /** @override */
    createInputPrompt() {
        return new _components_notebook_cell_prompt_CountdownInputPrompt__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    /** @override */
    createOutputPrompt() {
        return new _components_notebook_cell_prompt_CountdownOutputPrompt__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CountdownContentFactory);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/content/plugin.js":
/*!****************************************************!*\
  !*** ./lib/jupyter/lab/notebook/content/plugin.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/notebook */ "webpack/sharing/consume/default/@jupyterlab/notebook");
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/codeeditor */ "webpack/sharing/consume/default/@jupyterlab/codeeditor");
/* harmony import */ var _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _CountdownContentFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CountdownContentFactory */ "./lib/jupyter/lab/notebook/content/CountdownContentFactory.js");



/**
 * The notebook cell factory provider.
 */
const contentFactoryPlugin = {
    id: '@datalayer/jupyter-react:notebook-extension-factory',
    description: 'Provides the notebook cell factory.',
    provides: _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__.NotebookPanel.IContentFactory,
    requires: [_jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_1__.IEditorServices],
    autoStart: true,
    activate: (app, editorServices) => {
        const editorFactory = editorServices.factoryService.newInlineEditor;
        return new _CountdownContentFactory__WEBPACK_IMPORTED_MODULE_2__["default"]({ editorFactory });
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (contentFactoryPlugin);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/dashboard/components/Dashboard.js":
/*!********************************************************************!*\
  !*** ./lib/jupyter/lab/notebook/dashboard/components/Dashboard.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_viewer_Viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../../../../components/viewer/Viewer */ "./lib/components/viewer/Viewer.js");



const Dashboard = (props) => {
    const { context } = props;
    const [model, setModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(context.model.sharedModel.toJSON());
    context.model.contentChanged.connect((model, _) => {
        setModel(model.sharedModel.toJSON());
    });
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_viewer_Viewer__WEBPACK_IMPORTED_MODULE_2__["default"], { nbformat: model, outputs: false }) }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dashboard);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/dashboard/dashboard.js":
/*!*********************************************************!*\
  !*** ./lib/jupyter/lab/notebook/dashboard/dashboard.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DASHBOARD_ICON_CLASS": () => (/* binding */ DASHBOARD_ICON_CLASS),
/* harmony export */   "Dashboard": () => (/* binding */ Dashboard),
/* harmony export */   "DashboardFactory": () => (/* binding */ DashboardFactory),
/* harmony export */   "IDashboardTracker": () => (/* binding */ IDashboardTracker)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/docregistry */ "webpack/sharing/consume/default/@jupyterlab/docregistry");
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/coreutils */ "webpack/sharing/consume/default/@lumino/coreutils");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/signaling */ "webpack/sharing/consume/default/@lumino/signaling");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _dashboardWidget__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dashboardWidget */ "./lib/jupyter/lab/notebook/dashboard/dashboardWidget.js");






const IDashboardTracker = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__.Token('@datalayer/jupyter-react:IDashboardTracker');
const DASHBOARD_ICON_CLASS = 'jp-MaterialIcon jp-NotebookIcon';
class Dashboard extends _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__.DocumentWidget {
    _renderOnSave;
    constructor(options) {
        super({
            ...options,
            content: new _dashboardWidget__WEBPACK_IMPORTED_MODULE_5__["default"](options.context),
        });
        const { context, renderOnSave } = options;
        this.content.title.iconClass = DASHBOARD_ICON_CLASS;
        this.renderOnSave = renderOnSave ? true : false;
        context.pathChanged.connect(() => {
            //      this.content.url = getClassicUrl(context.path);
        });
        const reloadButton = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ToolbarButton({
            iconClass: 'jp-RefreshIcon',
            tooltip: 'Reload Dashboard',
            onClick: () => {
                this.reload();
            }
        });
        const renderOnSaveCheckbox = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget.create((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "jp-Preview-renderOnSave", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { style: { verticalAlign: 'middle' }, name: "renderOnSave", type: "checkbox", defaultChecked: renderOnSave, onChange: (event) => {
                        this._renderOnSave = event.target.checked;
                    } }), "Render on Save"] }));
        this.toolbar.addItem('reload', reloadButton);
        if (context) {
            this.toolbar.addItem('renderOnSave', renderOnSaveCheckbox);
            void context.ready.then(() => {
                context.fileChanged.connect(() => {
                    if (this.renderOnSave) {
                        this.reload();
                    }
                });
            });
        }
    }
    dispose() {
        if (this.isDisposed) {
            return;
        }
        super.dispose();
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__.Signal.clearData(this);
    }
    reload() {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        const iframe = this.content.node.querySelector('iframe');
        if (iframe.contentWindow) {
            iframe.contentWindow.location.reload();
        }
    }
    get renderOnSave() {
        return this._renderOnSave;
    }
    set renderOnSave(renderOnSave) {
        this._renderOnSave = renderOnSave;
    }
}
class DashboardFactory extends _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_2__.ABCWidgetFactory {
    defaultRenderOnSave = false;
    constructor(options) {
        super(options);
    }
    createNewWidget(context) {
        return new Dashboard({
            context,
            renderOnSave: this.defaultRenderOnSave
        });
    }
}


/***/ }),

/***/ "./lib/jupyter/lab/notebook/dashboard/dashboardWidget.js":
/*!***************************************************************!*\
  !*** ./lib/jupyter/lab/notebook/dashboard/dashboardWidget.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/ThemeProvider.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/BaseStyles.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/Box/Box.js");
/* harmony import */ var _components_Dashboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/Dashboard */ "./lib/jupyter/lab/notebook/dashboard/components/Dashboard.js");




class DashboardWidget extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget {
    _context;
    constructor(context) {
        super();
        this._context = context;
    }
    render() {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_2__["default"], { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_3__["default"], { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_4__["default"], { m: 3, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Dashboard__WEBPACK_IMPORTED_MODULE_5__["default"], { context: this._context }) }) }) }));
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DashboardWidget);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/dashboard/plugin.js":
/*!******************************************************!*\
  !*** ./lib/jupyter/lab/notebook/dashboard/plugin.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CommandIDs": () => (/* binding */ CommandIDs),
/* harmony export */   "DASHBOARD_WIDGET_FACTORY": () => (/* binding */ DASHBOARD_WIDGET_FACTORY),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/application */ "webpack/sharing/consume/default/@jupyterlab/application");
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/settingregistry */ "webpack/sharing/consume/default/@jupyterlab/settingregistry");
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/mainmenu */ "webpack/sharing/consume/default/@jupyterlab/mainmenu");
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/notebook */ "webpack/sharing/consume/default/@jupyterlab/notebook");
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _datalayer_icons_react_data1_AcademicCapIconLabIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datalayer/icons-react/data1/AcademicCapIconLabIcon */ "../../../../icons/react/data1/esm/AcademicCapIconLabIcon.js");
/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dashboard */ "./lib/jupyter/lab/notebook/dashboard/dashboard.js");







var CommandIDs;
(function (CommandIDs) {
    CommandIDs.dashboardRender = 'notebook:render-with-dashboard';
    CommandIDs.dashboardOpen = 'notebook:open-with-dashboard';
})(CommandIDs || (CommandIDs = {}));
const DASHBOARD_WIDGET_FACTORY = 'Dashboard Preview';
class DashboardButton {
    _commands;
    constructor(commands) {
        this._commands = commands;
    }
    createNew(panel) {
        const button = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ToolbarButton({
            className: 'dashboardRender',
            tooltip: 'Dashboard',
            icon: _datalayer_icons_react_data1_AcademicCapIconLabIcon__WEBPACK_IMPORTED_MODULE_5__["default"],
            onClick: () => { this._commands.execute(CommandIDs.dashboardRender); }
        });
        panel.toolbar.insertAfter('cellType', 'dashboardRender', button);
        return button;
    }
}
/**
 * Initialization data for the jupyterlab-preview extension.
 */
const dashboardPlugin = {
    id: '@datalayer/jupyter-react:dashboard',
    autoStart: true,
    requires: [_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__.INotebookTracker],
    optional: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ICommandPalette, _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__.ILayoutRestorer, _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_3__.IMainMenu, _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_2__.ISettingRegistry],
    provides: _dashboard__WEBPACK_IMPORTED_MODULE_6__.IDashboardTracker,
    activate: (app, notebookTracker, palette, restorer, menu, settingRegistry) => {
        const { commands, docRegistry } = app;
        const tracker = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.WidgetTracker({
            namespace: 'dashboard-preview'
        });
        if (restorer) {
            restorer.restore(tracker, {
                command: 'docmanager:open',
                args: panel => ({
                    path: panel.context.path,
                    factory: dashboardRenderFactory.name
                }),
                name: panel => panel.context.path,
                when: app.serviceManager.ready
            });
        }
        function getCurrentNotebookPanel(args) {
            const notebookPanel = notebookTracker.currentWidget;
            const activate = args['activate'] !== false;
            if (activate && notebookPanel) {
                app.shell.activateById(notebookPanel.id);
            }
            return notebookPanel;
        }
        function isEnabled() {
            return (notebookTracker.currentWidget !== null &&
                notebookTracker.currentWidget === app.shell.currentWidget);
        }
        const dashboardRenderFactory = new _dashboard__WEBPACK_IMPORTED_MODULE_6__.DashboardFactory({
            name: DASHBOARD_WIDGET_FACTORY,
            fileTypes: ['notebook'],
            modelName: 'notebook',
        });
        dashboardRenderFactory.widgetCreated.connect((sender, dashboard) => {
            dashboard.context.pathChanged.connect(() => {
                void tracker.save(dashboard);
            });
            void tracker.add(dashboard);
        });
        const updateSettings = (settings) => {
            dashboardRenderFactory.defaultRenderOnSave = settings.get('renderOnSave')
                .composite;
        };
        if (settingRegistry) {
            Promise.all([settingRegistry.load(dashboardPlugin.id), app.restored])
                .then(([settings]) => {
                updateSettings(settings);
                settings.changed.connect(updateSettings);
            })
                .catch((reason) => {
                console.error(reason.message);
            });
        }
        commands.addCommand(CommandIDs.dashboardRender, {
            label: 'Dashboard',
            execute: async (args) => {
                const notebookPanel = getCurrentNotebookPanel(args);
                let context;
                if (notebookPanel) {
                    context = notebookPanel.context;
                    await context.save();
                    commands.execute('docmanager:open', {
                        path: context.path,
                        factory: DASHBOARD_WIDGET_FACTORY,
                        options: {
                            mode: 'split-right'
                        }
                    });
                }
            },
            isEnabled
        });
        commands.addCommand(CommandIDs.dashboardOpen, {
            label: 'Open with Dashboard',
            execute: async (args) => {
                const notebookPanel = getCurrentNotebookPanel(args);
                if (!notebookPanel) {
                    return;
                }
                await notebookPanel.context.save();
            },
            isEnabled
        });
        if (palette) {
            const category = 'Notebook Operations';
            [CommandIDs.dashboardRender, CommandIDs.dashboardOpen].forEach(command => {
                palette.addItem({ command, category });
            });
        }
        if (menu) {
            menu.viewMenu.addGroup([
                {
                    command: CommandIDs.dashboardRender
                },
                {
                    command: CommandIDs.dashboardOpen
                }
            ], 1000);
        }
        const dashboardRenderButton = new DashboardButton(commands);
        //
        docRegistry.addWidgetFactory(dashboardRenderFactory);
        docRegistry.addWidgetExtension('Notebook', dashboardRenderButton);
        //
        return tracker;
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dashboardPlugin);


/***/ }),

/***/ "./lib/jupyter/lab/notebook/header/NotebookHeader.js":
/*!***********************************************************!*\
  !*** ./lib/jupyter/lab/notebook/header/NotebookHeader.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NotebookHeaderExtension": () => (/* binding */ NotebookHeaderExtension)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/disposable */ "webpack/sharing/consume/default/@lumino/disposable");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/ThemeProvider.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/BaseStyles.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/Box/Box.js");
/* harmony import */ var _primer_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @primer/react */ "../../../../../node_modules/@primer/react/lib-esm/Button/IconButton.js");
/* harmony import */ var _datalayer_icons_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datalayer/icons-react */ "../../node_modules/@datalayer/icons-react/data1/esm/JupyterBaseIcon.js");
/* harmony import */ var _datalayer_icons_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datalayer/icons-react */ "../../node_modules/@datalayer/icons-react/data1/esm/DashboardIcon.js");
/* harmony import */ var _classic_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../classic/plugin */ "./lib/jupyter/lab/notebook/classic/plugin.js");
/* harmony import */ var _dashboard_plugin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../dashboard/plugin */ "./lib/jupyter/lab/notebook/dashboard/plugin.js");







class NotebookHeader extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_2__.ReactWidget {
    _panel;
    _commands;
    constructor(panel, commands) {
        super();
        this._panel = panel;
        this._commands = commands;
    }
    renderClassic() {
        this._commands.execute('docmanager:open', {
            path: this._panel.context.path,
            factory: _classic_plugin__WEBPACK_IMPORTED_MODULE_3__.CLASSIC_RENDER_WIDGET_FACTORY,
            options: {
                mode: 'split-right'
            }
        });
    }
    showDashboard() {
        this._commands.execute('docmanager:open', {
            path: this._panel.context.path,
            factory: _dashboard_plugin__WEBPACK_IMPORTED_MODULE_4__.DASHBOARD_WIDGET_FACTORY,
            options: {
                mode: 'split-right'
            }
        });
    }
    render() {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_5__["default"], { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_6__["default"], { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_primer_react__WEBPACK_IMPORTED_MODULE_7__["default"], { m: 3, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_8__.IconButton, { "aria-label": "Classic Render", icon: () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_datalayer_icons_react__WEBPACK_IMPORTED_MODULE_9__["default"], { colored: true }), size: "medium", title: "Render the classic way", onClick: e => { e.preventDefault(); this.renderClassic(); } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_primer_react__WEBPACK_IMPORTED_MODULE_8__.IconButton, { "aria-label": "Edit as a Dashboard", icon: () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_datalayer_icons_react__WEBPACK_IMPORTED_MODULE_10__["default"], { colored: true }), size: "medium", title: "Edit as a Dashboard", onClick: e => { e.preventDefault(); this.showDashboard(); }, sx: { ml: 3 } })] }) }) }));
    }
}
class NotebookHeaderExtension {
    _commands;
    constructor(commands) {
        this._commands = commands;
    }
    createNew(panel, _) {
        const notebookHeader = new NotebookHeader(panel, this._commands);
        notebookHeader.addClass('dla-NotebookPanel-header');
        panel.contentHeader.insertWidget(0, notebookHeader);
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__.DisposableDelegate(() => {
            notebookHeader.dispose();
        });
    }
}


/***/ }),

/***/ "./lib/jupyter/lab/widget.js":
/*!***********************************!*\
  !*** ./lib/jupyter/lab/widget.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "JupyterReactWidget": () => (/* binding */ JupyterReactWidget)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _app_JupyterReact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../app/JupyterReact */ "./lib/app/JupyterReact.js");



class JupyterReactWidget extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget {
    constructor() {
        super();
        this.addClass('dla-Container');
    }
    render() {
        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_JupyterReact__WEBPACK_IMPORTED_MODULE_2__["default"], {});
    }
}


/***/ }),

/***/ "./lib/jupyter/lumino/Lumino.js":
/*!**************************************!*\
  !*** ./lib/jupyter/lumino/Lumino.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Lumino": () => (/* binding */ Lumino),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "../../../../../node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "webpack/sharing/consume/default/react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/widgets */ "webpack/sharing/consume/default/@lumino/widgets");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_3__);




const Lumino = (props) => {
    const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const { children } = props;
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const widget = children;
        try {
            _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__.Widget.attach(widget, ref.current);
        }
        catch (e) {
            console.warn('Exception while attaching Lumino widget.', e);
        }
        return () => {
            try {
                (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.unmountComponentAtNode)(widget.node);
                if (widget.isAttached || widget.node.isConnected) {
                    widget.dispose();
                    _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__.Widget.detach(widget);
                }
            }
            catch (e) {
                console.debug('Exception while detaching Lumino widget.', e);
            }
        };
    }, [children]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: ref });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Lumino);


/***/ }),

/***/ "./lib/jupyter/utils/Ids.js":
/*!**********************************!*\
  !*** ./lib/jupyter/utils/Ids.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "newSourceId": () => (/* binding */ newSourceId),
/* harmony export */   "newUuid": () => (/* binding */ newUuid)
/* harmony export */ });
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ "webpack/sharing/consume/default/uuid/uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__);

// const MAX = Number.MAX_SAFE_INTEGER;
// const MAX = 999999;
const newSourceId = (base) => {
    //  return base + Math.floor(Math.random() * MAX).toString();
    return base;
};
const newUuid = () => {
    return (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();
};


/***/ }),

/***/ "./style/index.css":
/*!*************************!*\
  !*** ./style/index.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../../../../../node_modules/css-loader/dist/cjs.js!./index.css */ "../../../../../node_modules/css-loader/dist/cjs.js!./style/index.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__["default"], options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_1__["default"].locals || {});

/***/ }),

/***/ "../../../../icons/react/data1/esm/AcademicCapIcon.svg":
/*!*************************************************************!*\
  !*** ../../../../icons/react/data1/esm/AcademicCapIcon.svg ***!
  \*************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" viewBox=\"0 0 20 20\">\n  <path fill-rule=\"evenodd\" d=\"M16.25 11.809v4.25c0 2.074-2.797 3.75-6.25 3.75-3.348 0-6.078-1.579-6.242-3.563l-.008-.187v-4.25l3.77 2.152a4.997 4.997 0 004.96 0zM8.758.329a2.515 2.515 0 012.484 0l8.13 4.648c.839.476.839 1.687 0 2.168l-8.13 4.648a2.515 2.515 0 01-2.484 0L.628 7.145a1.248 1.248 0 010-2.168zm0 0\" clip-rule=\"evenodd\"/>\n</svg>\n";

/***/ }),

/***/ "../../../../icons/react/data1/esm/DashboardColorIcon.svg":
/*!****************************************************************!*\
  !*** ../../../../icons/react/data1/esm/DashboardColorIcon.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" fill=\"currentColor\" aria-hidden=\"true\">\n  <g fill=\"none\" stroke-miterlimit=\"10\" stroke-width=\"1\">\n    <path fill=\"#54c0eb\" d=\"M102.041 153.183h-87.95c-6.994 0-12.684-5.693-12.684-12.687V14.091c0-6.994 5.69-12.684 12.684-12.684h87.95c6.994 0 12.684 5.69 12.684 12.684v126.405c.003 6.994-5.687 12.687-12.684 12.687z\"/>\n    <path fill=\"#f8b64c\" d=\"M102.041 254.307h-87.95c-6.994 0-12.684-5.69-12.684-12.688v-44.24c0-6.994 5.69-12.687 12.684-12.687h87.95c6.994 0 12.684 5.69 12.684 12.687v44.24c.003 6.997-5.687 12.688-12.684 12.688z\"/>\n    <path fill=\"#f1543f\" d=\"M241.62 254.307h-87.948c-6.994 0-12.687-5.69-12.687-12.688V115.214c0-6.994 5.69-12.684 12.687-12.684h87.95c6.994 0 12.687 5.69 12.687 12.684V241.62c-.002 6.997-5.693 12.688-12.69 12.688z\"/>\n    <path fill=\"#5ecb58\" d=\"M241.62 71.019h-87.948c-6.994 0-12.687-5.69-12.687-12.687V14.09c0-6.994 5.69-12.684 12.687-12.684h87.95c6.994 0 12.685 5.69 12.685 12.684v44.243c0 6.994-5.69 12.685-12.688 12.685z\"/>\n  </g>\n</svg>\n";

/***/ })

}]);
//# sourceMappingURL=lib_jupyter_lab_index_js.1294a3cbba548abf97ca.js.map